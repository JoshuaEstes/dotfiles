# Composer auto complete
# @see http://getcomposer.org
_composer()
{
    local cur opts composer
    COMPREPLY=()
    cur="${COMP_WORDS[COMP_CWORD]}"
    if [ -f $PWD/composer.phar ]; then
      composer=$($PWD/composer.phar)
    elif [ -f $(which composer.phar) ]; then
      composer=$(which composer.phar)
    else
      return 0;
    fi
    opts=$(${composer} list --raw | awk '{ print $1 }')
    COMPREPLY=( $(compgen -W "${opts}" -- ${cur}) )
    return 0
}
complete -o default -F _composer composer.phar
COMP_WORDBREAKS=${COMP_WORDBREAKS//:}

